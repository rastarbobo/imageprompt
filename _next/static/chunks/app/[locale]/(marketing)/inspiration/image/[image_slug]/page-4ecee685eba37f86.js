(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2495],{19507:function(e,r,t){Promise.resolve().then(t.bind(t,87063)),Promise.resolve().then(t.bind(t,32313)),Promise.resolve().then(t.bind(t,15193)),Promise.resolve().then(t.bind(t,88999)),Promise.resolve().then(t.bind(t,41299))},32313:function(e,r,t){"use strict";t.d(r,{default:function(){return m}});var s=t(83009),o=t(45291),a=t(73969),n=t(42392),i=t(60846),l=t(7011),c=t(41677),d=t(80229);function m(e){let{prompt:r,imageId:t}=e,m=(0,d.useTranslations)(),[u,h]=(0,o.useState)("idle"),{trackEvent:p}=(0,l.z)(),{trackUmamiEvent:x}=(0,c.M)(),f=(0,o.useCallback)(async()=>{p("copy_image_prompt",{prompt:r,image_id:t}),x("copy_image_prompt",{prompt:r,image_id:t});try{await navigator.clipboard.writeText(r),h("success"),setTimeout(()=>h("idle"),2e3)}catch(e){console.error("Copy failed:",e),h("error"),setTimeout(()=>h("idle"),2e3)}},[t,r,p,x]);return(0,s.jsxs)("div",{className:"border border-gray-100 p-4 rounded",children:[(0,s.jsx)("p",{className:"text-l font-bold mb-4",children:r}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("a",{href:a.Z.URLfromImageID(t),className:"border border-primary text-primary px-3 py-1 rounded flex items-center hover:text-primary-dark hover:border-primary-dark transition-colors",target:"_blank",rel:"noreferrer",onClick:()=>{p("create_by_image_prompt",{image_id:t}),x("create_by_image_prompt",{image_id:t})},children:[(0,s.jsx)(n.Z,{className:"size-5 mr-2"}),(0,s.jsx)("span",{className:"font-bold",children:m("common.create")})]}),(0,s.jsxs)("button",{onClick:f,className:"border border-gray-500 text-gray-500 px-3 py-1 rounded flex items-center hover:text-gray-700 hover:border-gray-700 transition-colors",children:[(0,s.jsx)(i.Z,{className:"size-5 mr-2"}),(0,s.jsx)("span",{className:"font-bold",children:(()=>{switch(u){case"success":return m("common.copied");case"error":return m("common.copyFailed");default:return m("common.copy")}})()})]})]})]})}},15193:function(e,r,t){"use strict";t.d(r,{default:function(){return i}});var s=t(83009),o=t(45291),a=t(80442),n=t(33514);function i(e){let{imageUrl:r,alt:t}=e,[i,l]=(0,o.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"relative w-full h-auto cursor-zoom-in",onClick:()=>l(!0),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&l(!0)},role:"button",tabIndex:0,children:(0,s.jsx)(a.default,{src:r,alt:t,width:0,height:0,sizes:"100vw",className:"w-full h-auto rounded-lg shadow-lg"})}),(0,s.jsx)(n.Z,{isOpen:i,onClose:()=>l(!1),imageUrl:r,alt:t})]})}},33514:function(e,r,t){"use strict";var s=t(83009),o=t(80442);r.Z=e=>{let{isOpen:r,onClose:t,imageUrl:a,alt:n}=e;return r?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-8",onClick:t,role:"button",tabIndex:0,onKeyDown:e=>"Escape"===e.key&&t(),children:(0,s.jsxs)("div",{className:"relative w-full h-full max-w-[98vw] max-h-[98vh] sm:max-w-[80vw] sm:max-h-[80vh]",children:[(0,s.jsx)("button",{className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors duration-200",onClick:e=>{e.stopPropagation(),t()},"aria-label":"关闭图片",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("div",{className:"w-full h-full",children:(0,s.jsx)(o.default,{src:a,alt:n,layout:"fill",objectFit:"contain",sizes:"(max-width: 768px) 98vw, 80vw"})})]})}):null}}},function(e){e.O(0,[342,6083,229,1960,6770,9570,7864,6479,4335,1744],function(){return e(e.s=19507)}),_N_E=e.O()}]);