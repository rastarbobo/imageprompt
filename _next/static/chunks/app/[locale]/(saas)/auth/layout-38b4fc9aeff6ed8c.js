(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2588],{98656:function(e,t,n){Promise.resolve().then(n.bind(n,43672)),Promise.resolve().then(n.bind(n,88999))},43672:function(e,t,n){"use strict";n.d(t,{UserContextProvider:function(){return d},x:function(){return f}});var r=n(83009),u=n(57953);n(62916);var o=(0,n(11951).$)("1b6c5b8b761d7009622a483e0f60275b52649569"),a=n(19622),c=n(6587),i=n(16686),s=n(45291);let l=new BroadcastChannel("auth"),f=(0,s.createContext)({user:null,reloadUser:()=>Promise.resolve(),updateUser:()=>{},logout:()=>Promise.resolve(),loaded:!1});function d(e){let{children:t,initialUser:n}=e,d=(0,i.useRouter)(),[h,p]=(0,s.useState)(!!n),[v,y]=(0,s.useState)(n),g=(0,a.NL)(),m=u.x.auth.user.useQuery(void 0,{refetchOnWindowFocus:!1,refetchOnMount:!1,enabled:!n}),b=u.x.auth.logout.useMutation(),x=async()=>{await m.refetch()},w=async()=>{await b.mutateAsync(),await o(),d.replace("/"),g.removeQueries({queryKey:(0,c.Ol)(u.x.auth)}),y(null),l.postMessage({type:"logout",user:null})};return(0,s.useEffect)(()=>{m.data&&y(m.data)},[m.data]),(0,s.useEffect)(()=>{m.isSuccess&&p(!0)},[m.isSuccess]),(0,s.useEffect)(()=>{v&&h&&l.postMessage({type:"loaded",user:v})},[v,h]),(0,s.useEffect)(()=>{let e=e=>{JSON.stringify(e.data.user)!==JSON.stringify(v)&&("logout"===e.data.type?(g.removeQueries({queryKey:(0,c.Ol)(u.x.auth)}),y(null),d.replace("/")):y(e.data.user))};return l.addEventListener("message",e),()=>l.removeEventListener("message",e)},[v]),(0,r.jsx)(f.Provider,{value:{user:v,reloadUser:x,logout:w,loaded:h,updateUser:e=>{v&&y({...v,...e})}},children:t})}},57953:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});let r=(0,n(6587).ec)({})},62576:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{g:function(){return r}})},88999:function(e,t,n){"use strict";n.d(t,{default:function(){return h}});var r=n(62576),u=n(70599),o=n(16686),a=n(45291),c=n(85024);let i="locale";function s(e){return"object"==typeof e?null==e.host&&null==e.hostname:!/^[a-z]+:/i.test(e)}function l(e,t){let n;return"string"==typeof e?n=f(t,e):(n={...e},e.pathname&&(n.pathname=f(t,e.pathname))),n}function f(e,t){let n="/"+e;return/^\/(\?.*)?$/.test(t)&&(t=t.slice(1)),n+=t}let d=(0,a.forwardRef)(function(e,t){let{href:n,locale:f,localePrefix:d,onClick:h,prefetch:p,...v}=e,y=(0,o.usePathname)(),g=function(){let e;let t=(0,o.useParams)();try{e=(0,c.useLocale)()}catch(n){if("string"!=typeof(null==t?void 0:t[i]))throw n;e=t[i]}return e}(),m=f!==g,[b,x]=(0,a.useState)(()=>s(n)&&("never"!==d||m)?l(n,f):n);return(0,a.useEffect)(()=>{y&&x(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3?arguments[3]:void 0;if(!s(e)||function(e){let t="object"==typeof e?e.pathname:e;return null!=t&&!t.startsWith("/")}(e))return e;let u=t!==n,o=null==t||function(e,t){let n="/".concat(e);return t===n||t.startsWith("".concat(n,"/"))}(t,r);return(u||o)&&null!=t?l(e,t):e}(n,f,g,y))},[g,n,f,y]),m&&(p&&console.error("The `prefetch` prop is currently not supported when using the `locale` prop on `Link` to switch the locale.`"),p=!1),a.createElement(u.default,(0,r.g)({ref:t,href:b,hrefLang:m?f:void 0,onClick:function(e){(function(e,t,n){if(!(n!==t&&null!=n)||!e)return;let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.pathname;return"/"===e?t:t.replace(e,"")}(e);document.cookie="".concat("NEXT_LOCALE","=").concat(n,"; path=").concat(""!==r?r:"/","; max-age=").concat(31536e3,"; sameSite=").concat("lax")})(y,g,f),h&&h(e)},prefetch:p},v))});d.displayName="ClientLink";var h=d},70599:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u.a}});var r=n(40342),u=n.n(r),o={};for(var a in r)"default"!==a&&(o[a]=(function(e){return r[e]}).bind(0,a));n.d(t,o)},16686:function(e,t,n){"use strict";n.r(t);var r=n(12390),u={};for(var o in r)"default"!==o&&(u[o]=(function(e){return r[e]}).bind(0,o));n.d(t,u)},11951:function(e,t,n){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return u}});let r=n(62916);function u(e){let{createServerReference:t}=n(55579);return t(e,r.callServer)}},53005:function(e,t,n){"use strict";var r=n(45291).createContext(void 0);t.IntlContext=r},5240:function(e,t,n){"use strict";var r=n(45291),u=n(53005);function o(){let e=r.useContext(u.IntlContext);if(!e)throw Error(void 0);return e}t.useIntlContext=o,t.useLocale=function(){return o().locale}},85024:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5240);n(45291),n(53005),t.useLocale=r.useLocale}},function(e){e.O(0,[342,6587,6479,4335,1744],function(){return e(e.s=98656)}),_N_E=e.O()}]);